---
layout: post
status: publish
published: true
title: Rails timezones difference
author:
  display_name: z1m
  login: z1m
  email: z1m@tut.by
  url: ''
author_login: z1m
author_email: z1m@tut.by
wordpress_id: 380
wordpress_url: http://extazystas.ru/?p=380
date: '2015-04-09 09:00:17 +0300'
date_gmt: '2015-04-09 07:00:17 +0300'
categories:
- RoR
tags: []
comments: []
---
<ul>
<li>In Rails, Time.zone refers to the Rails (not system) timezone, set by config.time_zone (typically in application.rb)</li>
<li>DateTime and Time are not otherwise Rails aware, therefore, DateTime.now and Time.now both return times in the system timezone.</li>
<li>1.month.ago and similar methods use the Rails timezone, but DateTime.now.last_month uses the system timezone</li>
<li>When retrieving things from ActiveRecord, they will be timezoned to the Rails timezone, so Product.first.created_at will give you a time in the Rails timezone (not the system timezone)</li>
</ul>
<p>So, don't mix Rails timezone methods like &ldquo;1.month.ago&rdquo; with system timezone methods like &ldquo;DateTime.now.last_month&rdquo;</p>
