---
layout: post
status: publish
published: true
title: Fast and Simple youtube embedding
author:
  display_name: z1m
  login: z1m
  email: z1m@tut.by
  url: ''
author_login: z1m
author_email: z1m@tut.by
wordpress_id: 375
wordpress_url: http://extazystas.ru/?p=375
date: '2015-03-16 12:38:53 +0300'
date_gmt: '2015-03-16 10:38:53 +0300'
categories:
- для общего развития
- javascript
tags:
- javascript
comments: []
---
<p>You can embed as many videos as you want and it still be fast.</p>
<p>HTML:</p>
<pre>
  <div class="video_name">Test video</div>
   <div class="video" style="background-color:#ccc; width:420px; height:315px;">
      <a href="http://www.youtube.com/watch?v=VIDEO_CODE" class="youtube"></a>
  </div>
</pre>
<p>JS:</p>
<pre>
<script type="text/javascript">
    function getYoutubeID(url) {
        var id = url.match("[\?&]v=([^&#]*)");
        id = id[1];
        return id;
    };
    $('a.youtube').each(function() {
        var id = getYoutubeID( this.href );
        this.id = id;
        var thumb_url = "http://img.youtube.com/vi/"+id+"/0.jpg";
        $('<img width="100%" src="'+thumb_url+'" />').appendTo($(this.parentNode));
        
    });

   
    $('.video').on('click', function(e) {
        var link = $(this).find('a')[0];
        var id = getYoutubeID( link.href );
        $(this).html('<iframe width="420" height="315" src="//www.youtube.com/embed/'+ id +'?autoplay=1" frameborder="0" allowfullscreen></iframe>').css('background', 'none');
    });
</script>
</pre>
